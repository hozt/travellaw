---
import Posts from "../components/Posts.astro";
import { isEnabled } from '../lib/enabledFeatures';

if (!await isEnabled('posts')) {
  console.log('Posts feature is disabled');
  return Astro.redirect('/404', 404);
}

const postAlias = import.meta.env.POST_ALIAS || 'blog';
---

<script define:vars={{ postAlias }}>
  if (postAlias === "articles") {
    window.location.href = "/articles/";
  }
</script>
<Posts />