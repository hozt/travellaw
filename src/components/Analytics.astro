---

const id = import.meta.env.GA_ID;
if (!id) {
    return;
}

const gtagScript = `
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "${id}");
`;
---
<!-- Google tag (gtag.js) -->
<script is:inline async
    type="text/partytown"
    src={`https://www.googletagmanager.com/gtag/js?id=${id}`}
></script>
<script is:inline type="text/partytown" set:html={gtagScript}></script>
